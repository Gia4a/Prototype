# Firebase App Hosting Configuration for Static Site
runConfig:
  env:
    - variable: GEMINI_API_KEY
      value: AIzaSyCXt4Rgduq8OhQzBFW1nXdToL-4gc-OjX8
      availability:
        - RUNTIME
        - BUILD

  cpu: 1
  memoryMiB: 512
  concurrency: 80
  minInstances: 0
  maxInstances: 100

buildConfig:
  buildCommand: |
    echo "=== Starting build process ==="
    echo "Installing frontend dependencies..."
    cd frontend && npm ci
    echo "Building frontend..."
    npm run build
    echo "Frontend build complete. Checking dist contents..."
    ls -la dist/
    echo "Moving back to root..."
    cd ..
    echo "Installing root dependencies..."
    npm ci
    echo "Build complete. Root directory contents:"
    ls -la
  startCommand: node server.js
  includedFiles:
    - frontend/**
    - server.js
    - package*.json
    - firebase.json
    - apphosting.yaml