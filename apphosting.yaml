# Firebase App Hosting Configuration for Static Site
runConfig:
  env:
    - variable: GEMINI_API_KEY
      value: AIzaSyCXt4Rgduq8OhQzBFW1nXdToL-4gc-OjX8
      availability:
        - RUNTIME
        - BUILD

  cpu: 1
  memoryMiB: 512
  concurrency: 80
  minInstances: 0
  maxInstances: 100

buildConfig:
  buildCommand: |
    echo "Building frontend..."
    cd frontend && npm ci && npm run build
    echo "Installing root dependencies..."
    cd .. && npm ci
    echo "Copying built files..."
    cp -r frontend/dist/* ./
    echo "Build complete. Files in workspace:"
    ls -la
  startCommand: node server.js
  includedFiles:
    - frontend/**
    - server.js
    - package*.json
    - firebase.json
    - apphosting.yaml